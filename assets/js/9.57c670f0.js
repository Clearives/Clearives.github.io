(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{217:function(s,n,a){"use strict";a.r(n);var t=a(4),i=Object(t.a)({},function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("win7大家都使用过，当我们更换壁纸的时候，我们会发现窗口的颜色会自动的根据壁纸的色调来调整，还有就是之前魅族MX4pro发布会，他所用的flyme里面就提到了一个东西，手机有一个锁屏壁纸，也有一个桌面壁纸，如何让两个背景看起来协调呢，他们同样是那样做到了，让桌面壁纸根据锁屏壁纸的色调来自动适应，话题有点扯远了，昨天群里的一个代码哥给了我们一段实现与之差不多功能的函数，虽然这个函数里设计到的一些颜色的算法不是太完善，但我觉得大家可以参考。\n下面我们来看一个例子，就是我们通过Autocolor来得到一个与图片色调相近的rgba颜色。\n"),s._v("\nHTML：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<div id="box"></div>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("css:")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("body{width:100%; height:100%; margin:0; padding:0; overflow:hidden; font-size:14px; font-family:Microsoft YaHei,Helvetica,Arial;}\n#box{position: relative;border-radius: 5px;}\nimg{display: block;position: absolute;top: 35%;left: 50%;margin-top: -34px;margin-left: -34px;}\n.section{display:block;text-decoration:none;width: 50%;height: 150px;float: left;box-sizing: border-box;border: 5px solid #FFF;position: relative;border-radius: 10px;}\n.txt{margin-top:100px;text-align: center;color: #fff;}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("javascript：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('var imgList = {\n        "gameImg":[\n            {"src":"images/1.jpg","title":"天天酷跑"},\n            {"src":"images/2.jpg","title":"欢乐斗地主"},\n            {"src":"images/3.jpg","title":"天天飞车"},\n            {"src":"images/4.jpg","title":"全民飞机"},\n            {"src":"images/5.jpg","title":"天天爱消除"},\n            {"src":"images/6.jpg","title":"节奏大师"},\n            {"src":"images/7.jpg","title":"水果忍者"},\n            {"src":"images/8.jpg","title":"开心消消乐"}\n        ]\n    }\n    var box = document.getElementById("box");\n    for(var i=0; i<imgList.gameImg.length; i++){\n        var imgHtml = \'<a href="javascript:void(0);" class="section" ><img src=\'+imgList.gameImg[i].src+\'><p class="txt">\'+imgList.gameImg[i].title+\'</p></a>\';\n        box.innerHTML+=imgHtml;\n    }\n    window.onload = function () {\n        var section = document.getElementsByClassName("section");\n        for(i=0;i<section.length;i++){\n            var img = section[i].childNodes[0];\n            section[i].style.background = AutoColor(img);\n        }\n    }\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br")])]),a("p",[s._v("大家这时应该注意到了，每个游戏图标下面的背景都不是我定义的，css里面没有，js里面也没有，这都是通过Autocolor这个函数实现的，大致看上去，颜色还满协调，有一些测试的时候颜色确实不搭，因为代码里面对颜色处理的算法不完善，我觉得还不错，供大家学习还是不错的。")]),s._v(" "),a("p",[s._v("最后把Autocolor这个函数的代码贴出来，大家可以自己参考：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('(function () {\n    var matchCanvas = document.createElement("canvas");\n    if (matchCanvas) {\n        var matchCtx = matchCanvas.getContext("2d");\n        matchCanvas.width = 4;\n        matchCanvas.height = 4;\n    }\n    window.AutoColor = function (image) {\n        var r = 0, g = 0, b = 0, skip = 0, pixs;\n        if (!matchCtx) {\n            return "rgb(255,255,255)";\n        }\n        matchCtx.drawImage(image, 0, 0, 4, 4);\n        try {\n            pixs = matchCtx.getImageData(0, 0, 4, 4).data;\n        }\n        catch (e) {\n            return "rgb(255,255,255)";\n        }\n        for (var i = 0; i < pixs.length; i += 4) {\n            if (pixs[i + 3] < 30) {\n                skip++;\n                continue;\n            }\n            r += pixs[i] * 4;\n            g += pixs[i + 1] * 4;\n            b += pixs[i + 2] * 4;\n        }\n        r = (r / (pixs.length - skip)) | 0;\n        g = (g / (pixs.length - skip)) | 0;\n        b = (b / (pixs.length - skip)) | 0;\n        var max = Math.max(r, g, b);\n        if (r == max) {\n            r = (r * 1.2) | 0;\n            g = (g * 0.8) | 0;\n            b = (b * 0.8) | 0;\n        }\n        else if (g == max) {\n            g = (g * 1.2) | 0;\n            r = (r * 0.8) | 0;\n            b = (b * 0.8) | 0;\n        }\n        else if (b == max) {\n            b = (b * 1.2) | 0;\n            g = (g * 0.8) | 0;\n            r = (r * 0.8) | 0;\n        }\n        if (r > 255) r = 255;\n        if (g > 255) g = 255;\n        if (b > 255) b = 255;\n        return "rgb(" + r + "," + g + "," + b + ")";\n    };\n})();\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br")])]),a("p",[s._v("我查了一下，网上好像有类似的代码，大家也可以网上查阅看看，或许还有更精准的获取自适应的颜色函数。")])])},[],!1,null,null,null);n.default=i.exports}}]);